<div class="py-2 bg-zinc-100">
    <div class="container mx-auto pl-4 pr-2" data-controller="message">
        <p class="font-bold underline underline-offset-4 mb-1">Messages</p>

        <%= button_to "#public", query_messages_path(tag: "#public"),
            id: "tag_public",
            class: "w-full text-left hover:bg-green-200",
            "data-action": "click->message#selectTag",
            form: { 
                id: "form_public",
            } %>

        <%= button_to "#private", query_messages_path(tag: "#private"),
            id: "tag_private",
            class: "w-full text-left hover:bg-green-200",
            "data-action": "click->message#selectTag",
            form: { 
                id: "form_private",
            } %>

        <hr class="my-1">

        <%= turbo_stream_from :tags %>

        <%= turbo_frame_tag "summary_tags" do %>
            <% @tags.each do |(tag, count)| %>
                <%= render partial: "tags/summary_tag", locals: {tag: tag, count: count} %>
            <% end %>
        <% end %>

        <%= turbo_frame_tag "add_watch_tag" do %>
            <%= render partial: "users/form_add_watch_tag" %>
        <% end %>
    </div>
</div>
