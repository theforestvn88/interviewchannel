<table class="w-full table-fixed mt-5">
    <tbody>
    <tr>
        <th class="w-14 text-xs">GMT+7</th>
        <th class="border-l-2 border-gray-200">Sun</th>
        <th class="border-l-2 border-gray-200 bg-gray-50">Mon</th>
        <th class="border-l-2 border-gray-200">Tue</th>
        <th class="border-l-2 border-gray-200 bg-gray-50">Wed</th>
        <th class="border-l-2 border-gray-200">Thu</th>
        <th class="border-l-2 border-gray-200 bg-gray-50">Fri</th>
        <th class="border-l-2 border-gray-200">Sat</th>
    </tr>
    <% (310..(1440 + 300)).each do |t| %>
        <tr>
            <% if (h = (t%1440)/60) >= 0 && (m = t%60) == 0 %>
                <td class="w-14 border-b-2 border-gray-400 text-xs"><%= strftime(hours: h) %></td>
            <% else %>
                <td class="w-14 h-0"></td>
            <% end %>

            <% (0..6).each do |weekday| %>
                <% if @weekly_interviews.has_key?(t%1440) && interview_display = @weekly_interviews[t%1440][weekday] %>
                    <% if interview_display.first == :start %>
                        <td class="w-full bg-red-50 text-xs text-red-400 border-l-2 border-t-2 border-r-2 border-red-500 pl-1">
                            <span class="font-bold"><%= interview_display.last %></span>
                        </td>
                    <% elsif interview_display.first == :middle %>
                        <td class="w-full bg-red-50 text-xs text-red-400 border-l-2 border-r-2 border-red-500 pl-1">
                            <% if interview_display.last %>
                                <span class="font-bold"><%= interview_display.last %></span>
                            <% end %>
                        </td>
                    <% elsif interview_display.first == :end %>
                        <td class="w-full bg-red-50 text-xs text-red-400 border-l-2 border-r-2 border-b-2 border-red-500 pl-1"><%= interview_display.last %></td>
                    <% end %>
                <% else %>
                    <%= tag.td(class: "w-full border-l-2 #{t%60==0 ? 'border-b-2' : '' } border-gray-200  #{weekday%2==1 ? 'bg-gray-50' : ''}") %>
                <% end %>
            <% end %>        
        </tr>
    <% end %>
    </tbody>
</table>